{% extends "base.html" %}
{% block title %}All Artists Â· Lyrics Library{% endblock %}
{% block content %}
<div class="page-container py-8 sm:py-12">
  <div class="mb-8">
    <h1 class="heading-1 mb-3">All Artists</h1>
    <p class="text-white/70">Browse all Punjabi artists and their translated songs</p>
  </div>

  {% if artists %}
  <!-- A-Z Index -->
  <div class="mb-8 sticky top-16 sm:top-20 z-40 glass-dark rounded-full px-4 py-3">
    <nav class="flex items-center gap-2 overflow-x-auto scrollbar-custom" aria-label="Alphabetical navigation">
      {% regroup artists by name.0|upper as artist_groups %}
      {% for group in artist_groups %}
      <a href="#{{ group.grouper }}"
         class="flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full hover:bg-white/20 text-sm font-medium transition-all focus-visible:ring-2 focus-visible:ring-white/60">
        {{ group.grouper }}
      </a>
      {% endfor %}
    </nav>
  </div>

  <!-- Artists Grid -->
  {% regroup artists by name.0|upper as artist_groups %}
  <div class="space-y-8 sm:space-y-12">
    {% for group in artist_groups %}
    <section id="{{ group.grouper }}">
      <h2 class="heading-3 mb-4 sm:mb-6 text-white/90">{{ group.grouper }}</h2>
      <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-6">
        {% for artist in group.list %}
        <a href="{% url 'artist_detail' artist.slug %}"
           class="card-hover flex flex-col items-center text-center group">
          <div class="w-20 h-20 sm:w-24 sm:h-24 rounded-full overflow-hidden bg-gradient-to-br from-white/20 to-white/10 mb-3 ring-2 ring-white/20 group-hover:ring-white/40 transition-all">
            {% if artist.image_url %}
            <img src="{{ artist.image_url }}" alt="{{ artist.name }}" class="w-full h-full object-cover" loading="lazy">
            {% else %}
            <div class="w-full h-full flex items-center justify-center text-2xl sm:text-3xl font-bold text-white/80">
              {{ artist.name|first|upper }}
            </div>
            {% endif %}
          </div>
          <h3 class="font-semibold text-sm sm:text-base line-clamp-2 px-2">{{ artist.name }}</h3>
        </a>
        {% endfor %}
      </div>
    </section>
    {% endfor %}
  </div>
  {% else %}
  <div class="card text-center py-12">
    <p class="text-white/60 mb-4">No artists available yet</p>
    <p class="text-sm text-white/50">Artists will appear here once added to the database</p>
  </div>
  {% endif %}
</div>
{% endblock %}
